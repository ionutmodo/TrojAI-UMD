Bootstrap: docker
From: pytorch/pytorch:latest

%setup
    rm -rf /umd
    mkdir /umd

%files
    ./metamodels/ /umd
    ./tools/ /umd
    ./architectures/SDNs/ /umd
    ./trojai/ /umd
    ./umd_pipeline.py /umd

%post
    pip install pandas
    pip install numpy
    pip install matplotlib
    pip install pillow
    pip install scipy
    pip install seaborn
    pip install wand
    pip install scikit-learn
    pip install scikit-image
    pip install dill

%runscript
    exec python3 /umd/umd_pipeline.py "$@"